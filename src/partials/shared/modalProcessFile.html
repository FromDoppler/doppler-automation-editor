<div id="modal" class="modal modal--is-dialog">
  <div class="modal__wrapper" id="modalProcessFile">
    <!-- click-outside="close(false)" outside-if-not="dropContainer" -->
    <a class="icon-close modal--do-close" ng-click="close(false)"></a>
    <div class="modal__content">
      <h1 ng-if="!processed">{{ 'modal_process_file.title' | translate}}</h1>
      <p ng-if="!processed">{{ 'modal_process_file.subtitle' | translate}}</p>
      <h1 ng-if="processed">
        {{ 'modal_process_file.processed_title' | translate }}
      </h1>
      <p ng-if="processed">
        {{ 'modal_process_file.processed_subtitle' | translate}}
      </p>
    </div>
    <div ng-if="!processed">
      <div>
        <form
          id="dropContainer"
          dp-dropzone="dropzoneConfig"
          class="dropzone resizable"
        >
          <div class="dz-message">
            <div class="drag-icon-container">
              <svg
                class="progress-radial"
                width="120px"
                height="120px"
                viewBox="0 0 120 120"
                shape-rendering="geometricPrecision"
              >
                <defs>
                  <mask
                    id="circle_mask"
                    x="0"
                    y="0"
                    width="120"
                    height="120"
                    maskUnits="userSpaceOnUse"
                  >
                    <circle
                      cx="60"
                      cy="60"
                      r="63"
                      stroke-width="0"
                      fill="black"
                      opacity="1"
                    />
                    <circle
                      cx="60"
                      cy="60"
                      r="60"
                      stroke-width="0"
                      fill="white"
                      opacity="1"
                    />
                    <circle
                      class="progress-radial-mask-inner"
                      cx="60"
                      cy="60"
                      r="50"
                      stroke-width="0"
                      fill="black"
                      opacity="1"
                    />
                  </mask>
                </defs>
                <g mask="url(#circle_mask)">
                  <circle
                    class="progress-radial-track"
                    cx="60"
                    cy="60"
                    r="60"
                    stroke-width="0"
                    opacity="1"
                    ng-class="progressTrackClass"
                  />
                  <path
                    class="progress-radial-bar"
                    transform="translate(60, 60)"
                    d="M 0 0"
                    ng-class="progressBarClass"
                  ></path>
                </g>
                <path
                  class="arrow bottom-load-icon"
                  d="M 40 47 L 60 67 L 80 47 L 68 47 L 68 31 L 52 31 L 52 47 L 40 47 Z"
                  fill="#e8e8e8"
                  ng-class="[progressIconClass, progressArrowClass]"
                />
                <path
                  class="bottom-load-icon"
                  d="M 30 62 L 30 82 L 30 90 L 90 90 L 90 82 L 90 62 L 82 62 L 82 82 L 38 82 L 38 62 L 30 62 Z"
                  fill="#e8e8e8"
                  ng-class="progressIconClass"
                />
                <rect
                  class="bottom-load-icon"
                  x="40"
                  y="78"
                  width="40"
                  height="2"
                  fill="#e8e8e8"
                  ng-class="progressIconClass"
                />
                <rect
                  class="bottom-load-icon"
                  x="40"
                  y="74"
                  width="40"
                  height="2"
                  fill="#e8e8e8"
                  ng-class="progressIconClass"
                />
              </svg>
            </div>
            <div dp-dynamic-html="dragAndDropMessage"></div>

            <div
              id="button-container"
              ng-show="displayDropButton || (!displayDropButton && dropzoneConfig.addRemoveLinks)"
            >
              <input
                class="dz-remove remove-button cancel-upload-button"
                value="Cancel"
                ng-click="cancelUpload($event)"
                ng-if="!displayDropButton && dropzoneConfig.addRemoveLinks"
              />
              <input
                type="button"
                value="{{dropButtonValue}}"
                ng-disabled="processing && !processingError"
                class="main_buttons_green_small drop-button"
                ng-if="displayDropButton"
              />
            </div>

            <br />
            <span class="static-message"
              >{{ 'modal_process_file.import_dragAndDrop_description' |
              translate }}
              <a
                class="help"
                href="{{'modal_process_file.helpLink' | translate}}"
                target="_blank"
                ng-click="goToHelp($event)"
                >HELP</a
              >.
            </span>
          </div>

          <div class="fallback" style="padding-top: 10px">
            <span class="changing-message error"
              >{{ 'modal_process_file.dragAndDrop_FallbackMsg' | translate
              }}</span
            >
          </div>
        </form>
      </div>
      <div class="modal__action-btn">
        <button
          class="button button--alternative button--small"
          ng-click="close(false)"
          ng-disabled="uploadFileprocessing || processing"
          data-dismiss="modal"
        >
          {{ 'button_cancel' | translate}}
        </button>
        <button
          class="button button--primary button--small"
          data-dismiss="modal"
          ng-click="processFile()"
          ng-disabled="noFileUploaded || processing"
        >
          {{ 'modal_process_file.button_remove_subs' | translate}}
        </button>
      </div>
    </div>
  </div>
</div>
