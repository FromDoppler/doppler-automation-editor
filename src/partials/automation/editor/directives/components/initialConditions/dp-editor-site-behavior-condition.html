<div
  class="initial-step--container relative component"
  ng-class="{'is-error' : hasErrors() }"
>
  <span class="icon-pointer"></span>
  <p>
    {{'automation_editor.components.initial_condition.site_behavior.canvas.intro'
    | translate}}
    <span
      class="brackets"
      ng-if="(!component.domains.length || !component.domains[0].url) && !component.domains.length"
      >[[[...]]]</span
    >
    <span ng-if="component.domains.length">
      <span
        ng-repeat="(index, domain) in component.domains track by $index"
        ng-if="domain.url && index < 4"
      >
        <span ng-if="index < 3"
          ><span ng-if="!$first"
            >{{domain.visitedPage === false ?
            'automation_editor.components.initial_condition.site_behavior.canvas.no_visited'
            :
            'automation_editor.components.initial_condition.site_behavior.canvas.visited'
            | translate}}</span
          ><span
            >{{'automation_editor.components.initial_condition.site_behavior.canvas.separator'
            | translate}}</span
          ><strong>{{domain.url}}</strong
          ><span ng-if="domain.visitedTimes > 1 && domain.visitedPage">
            {{'automation_editor.components.initial_condition.site_behavior.canvas.at_least'
            | translate}} {{domain.visitedTimes}}
            {{'automation_editor.components.initial_condition.site_behavior.canvas.more_times'
            | translate}}
          </span></span
        ><span ng-if="index === 3">
          {{'automation_editor.components.initial_condition.site_behavior.canvas.more_urls'
          | translate}} </span
        ><span class="operator" ng-if="index !== 3 && !$last"
          >{{'automation_editor.components.initial_condition.site_behavior.canvas.operator_'
          + component.operator | translate}}</span
        >
      </span>
    </span>
  </p>
  <div
    class="tip-help--container initial-condition"
    ng-show="!component.completed"
  >
    <span class="icon-arrow-friendly"></span>
    <span
      class="tip-help"
      ng-bind-html="'automation_editor.canvas.tip_initial_condition' | translate"
    ></span>
  </div>
</div>
<dp-editor-new-step component="component"></dp-editor-new-step>
